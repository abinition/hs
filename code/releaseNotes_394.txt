
			Release Notes for HS 3.9.4-130204
			
				Changes since HS 3.9.1

ITANIUM Compatibility Fixes
	
	AUTOMAN DATA uploading into PROMIS
		AUTOMAN2.FOR
			When performing FORTRAN conversions, the "err=label" branching is not supported
			
	Building/Compiling
		CCC.COM
			Force /FLOAT=G_FLOAT compiler option
			
	Floating Point to Integer Conversions
		DATA.C
			Check for potential overflow when down-converting from float to int
		
DST Fixes
	INSTANCE.C
			An HS program maximum lifetime was only 24 hours, causing problems
			during Fall-DST change when the length of the day is increased to 25 hours
			
General Bug Fixes

	Embedded/HS - pget()
		AUTOMAN4.FOR
			When accessing TLOG, initialze tlog.recnum to zero
			
	XML parsing
		CGI.C
			1. Fix bug where abrupt end-of-stream in XML causes traceback
			2. Allow dashes and dots in tag names
			
	CGI Scripting
		CGI.C
			Fix bug with cgiEntries where value contains an "=" sign
			
	HS Execution
		CHANNEL.C, SOCK.C
			When HS terminates, it sends an ABORT message automatically to router, 
			but the message could contain an invalid target, 
			which would then prevent router from cleaning up the fifo, 
			which in turn would cause a failure during the next restart.

		DATA.C
			Fix memory leak in newVector
			
		FILEIO.C
			When doing fputs, and line already ends with \n, then output line
			
		HYPDEF.H
			1. Increase general purpose buffer sizes for both INPUT and OUTPUT. 
			2. Allow up to 64 queued messages, up from 32.
			3. MAX SQL columns now 256, up from 128.
			4. All router to try up to 5 connection attempts before failing, up from 3.
			5. Increase grace period from 5 to 30 seconds after a DEATH event
			
		INSTANCE.C
			1. Couldn't reinvoke enabled methods if they were local in local mode.
			2. Prevent another handler from being readied for execution until 
			the first one has completed.
			3. Stack HANGUP and PIPE signals in the event they occur at the same time
			4. Reset PIPE and HANGUP handlers only if none are stacked.
		
		SOCK.C
			Fix so that shebang files won't delete themselves after closing.
   
	HS PROGRAMMING LANGUAGE
		HYPDEF.H, PARSE.C
			Support for "dot" functions.
			Allow all built-in functions to be called as objects, for example:
			
				elements = text.strtok ( "," ) ;
			
			is equivalent to:
			
				elements = strok ( text, "," ) ;
	
	
	BUILT-IN FUNCTIONS
		ENV.C
			Endianess was reversed for both map() and unmap()
		FUNCTION.C
			Give strtok a large amount (2MB) of memory
		INSTANCE.C
			Fixes for the sleep() function.
			1. sleep(0) does a poll for messages before returning
			2. instances that awake from sleep must relinquish 
			control to other instances.
			
			
	SECS/GEM
		FRAME.C, INSTANCE.C
			ENQ contention handling would break when contentions were stacked.
			HS frames would be lost and interrupting message would be lost.
			
		HYPDEF.H
			HSMS maximum message size, now 65536, up from 40000.

		SOCK.C
			Bug fixed for E500.   Needed "pOverlapped->Internal = STATUS_READY"
			after write of COM port.
		
		SECS1.C
			Better handling of SECS1 serial lines, do not issue PIPE error if no EOT.
			

New Functions:
    
	urlparse()
		Parse a URL into its respective components.
		
	indexof()
		Like strloc, but returns -1 instead of strlen() when no match.
		
	load_csv()
		Loads a CSV file.
		
	csv()
		Like load_csv, but works on variables rather than file input.
	
	jdescribe()
		JSON describe to stdout.
		
	jsdescribe()
		JSON describe to string.
	
	jfdescribe()
		JSON describe to file.